This file contains a full comparison of the WARC format specification versions 1.0 and 1.1.
Specifically, it is an edited and commented version of the output of `git diff --minimal --no-index --word-diff -- warc-1.0/index.md warc-1.1/index.md | sed 's,\[-\|-\],~~,g; s,{+\|+},**,g; s,^,> ,'`.

For a shorter version which only contains significant changes (e.g. no grammar fixes), see diff1.0-short.md.

~~Strikethrough~~ are deleted parts, **bold** are added. Note that in the grammar blocks, the codes are preserved literally as `~~deleted~~` and `**added**`.

> ---
> title: The WARC Format
> ~~type: specification~~
> status: standard
> version: ~~1.0~~**1.1**
> numbered: true
> latest: ~~false~~**true**
> version-of: warc-format
> **previous-version: 1.0**
> ---

Version bump

> 
> ~~Web sites~~**Websites** and web pages emerge and disappear from the ~~world wide web~~**World Wide Web**
> every day. For the past ten years, memory **storage** organizations have
> tried to find the most appropriate ways to collect and keep track of
> this vast quantity of important material using web-scale tools such as
> web crawlers. A web crawler is a program that browses the web in an
> automated manner according to a set of policies; starting with a list of
> URLs, it saves each page identified by a URL, finds all the hyperlinks
> in the page ~~(e. g.~~**(e.g.** links to other pages, images, videos, scripting or
> style instructions, etc.), and adds them to the list of URLs to visit
> recursively. Storing and managing the billions of saved web page objects
> itself presents a challenge.
> 
> At the same time, those same organizations have a rising need to archive
> large numbers of digital files not necessarily captured from the web
> ~~(e.g.,~~**(e.g.** entire series of electronic journals, or data generated by
> environmental sensing equipment). A general requirement that appears to
> be emerging is for a container format that permits one file simply and
> safely to carry a very large number of constituent data objects for the
> purpose of storage, management, and exchange. Those data objects (or
> resources) ~~must~~**need to** be of unrestricted type (including many binary types
> for audio, CAD, compressed files, etc.), but fortunately the container
> needs only minimal knowledge of the nature of the objects. The WARC (Web
> ARChive) file format offers a convention for concatenating multiple
> resource records (data objects), each consisting of a set of simple text
> headers and an arbitrary data block into one long file. The WARC format
> is an extension of the ARC ~~File Format \[ARC\]~~**file format (ARC)** that has traditionally been
> used to store "web crawls" as sequences of content blocks harvested from
> the World Wide Web. Each capture in an ARC file is preceded by a
> one-line header that very briefly describes the harvested content and
> its length. This is directly followed by the retrieval protocol response
> messages and content. The original ARC format file ~~is~~**has been** used by the
> Internet Archive (IA) since 1996 for managing billions of objects, and
> by several national libraries.
> 
> [...] Archive (IA). The California Digital Library and the Los Alamos National
> Laboratory also provided input on extending and generalizing the format.
> The WARC format ~~is expected to be~~**offers** a standard way to structure, manage and store
> billions of resources collected from the web and elsewhere. It ~~will be~~**is** used
> to build applications for ~~harvesting (such as the open~~
> ~~source Heritrix web crawler),~~**harvesting,** managing, accessing, **mining** and
> exchanging content. **While it represents the unique standard format for**
> **web archives, it has been adopted beyond the web archiving community to**
> **store born-digital or digitized materials.** The way WARC files will be
> created and resources~~will be~~ stored and rendered will depend on software and
> applications implementations.
> 
> Besides the primary content recorded in ARCs, the extended WARC format
> accommodates related secondary content, such as assigned metadata,

Grammar fixes and updates on how ARC/WARC were/are used

> [...]
>
> Normative references
> ====================
> 
> The following **documents, in whole or in part, are normatively** referenced
> ~~documents~~**in this document and** are indispensable for ~~the application~~
> ~~of this document.~~**its application.** For dated
> references, only the edition cited applies. For undated references, the
> latest edition of the referenced document (including any amendments)
> applies.~~\[ARC\] Burner, Mike; Kahle, Brewster. - ARC File Format, 15 September~~
> ~~1996; <http://www.archive.org/web/researcher/ArcFileFormat.php>.~~
> 
> ~~\[W3CDTF\] Date and Time Formats: note submitted to the W3C 15 September~~
> ~~1997 (W3C profile of ISO8601). <http://www.w3.org/TR/NOTE-datetime>~~
> 
> ~~\[DCMI\] DCMI Metadata Terms.~~
> ~~http://dublincore.org/documents/dcmi-terms/~~
> 
> ~~\[RFC1035\] Mockapetris, P., “Domain names - implementation and~~
> ~~specification,” STD 13, RFC 1035, November 1987.~~
> ~~http://www.faqs.org/rfcs/rfc1035.html~~
> 
> ~~\[RFC1884\] Hinden, R. and S. Deering, “IP Version 6 Addressing~~
> ~~Architecture,” RFC 1884, December 1995.~~
> ~~<http://www.faqs.org/rfcs/rfc1884.html>~~
> 
> ~~\[RFC1950\] Deutsch, L. and J-L. Gailly, “ZLIB Compressed Data Format~~
> ~~Specification version 3.3,” RFC 1950, May 1996 (TXT, PS, PDF).~~
> ~~<http://www.faqs.org/rfcs/rfc1950.html>~~
> 
> ~~\[RFC1951\] Deutsch, P., “DEFLATE Compressed Data Format Specification~~
> ~~version 1.3,” RFC 1951, May 1996 (TXT, PS, PDF).~~
> ~~<http://www.faqs.org/rfcs/rfc1951.html>~~
> 
> ~~\[RFC1952\] Deutsch, P... “GZIP file format specification version~~
> ~~4.3,” RFC 1952, May 1996 (TXT, PS, PDF).~~
> ~~<http://www.faqs.org/rfcs/rfc1952.html>~~
> 
> ~~\[RFC2045\] Freed, N. ; Borenstein, N. “Multipurpose Internet Mail~~
> ~~Extensions (MIME) Part One: Format of Internet Message Bodies,” RFC~~
> ~~2045, November 1996. <http://www.faqs.org/rfcs/rfc2045>~~
> 
> ~~\[RFC2047\] Moore, K.. “MIME (Multipurpose Internet Mail Extensions)~~
> ~~Part Three: Message Header Extensions for Non-ASCII Text,” RFC 2047,~~
> ~~November 1996 (TXT, HTML, XML). <http://www.faqs.org/rfcs/rfc2047>~~
> 
> ~~\[RFC2048\] Freed, N.; Klensin, J.,; Postel, J. “Multipurpose Internet~~
> ~~Mail Extensions (MIME) Part Four: Registration Procedures,” BCP 13,~~
> ~~RFC 2048, November 1996 (TXT, HTML, XML).~~
> ~~<http://www.faqs.org/rfcs/rfc2048>~~
> 
> ~~\[RFC2119\] Bradner, S., “Key words for use in RFCs to Indicate~~
> ~~Requirement Levels,” BCP 14, RFC 2119, March 1997 (TXT, HTML, XML).~~
> ~~<http://www.faqs.org/rfcs/rfc2119.html>~~
> 
> ~~\[RFC2540\] Eastlake, D., “Detached Domain Name System (DNS)~~
> ~~Information,” RFC 2540, March 1999.~~
> ~~<http://www.faqs.org/rfcs/rfc2540.html>~~
> 
> ~~\[RFC2616\] Fielding, R.; Gettys, J.; Mogul, J.; Frystyk, H.;~~
> ~~Masinter, L.; Leach, P.; Berners-Lee, T. “Hypertext Transfer Protocol~~
> ~~-- HTTP/1.1,” RFC 2616, June 1999 (TXT, PS, PDF, HTML, XML).~~
> ~~<http://www.faqs.org/rfcs/rfc2540.html>~~**\[RFC 1035\] Mockapetris, P. Domain names — Implementation and**
> **specification. STD 13, November 1987. Available at:**
> **<https://www.ietf.org/rfc/rfc1035.txt>**
> 
> ~~\[RFC2822\] Resnick, P., “Internet~~**\[RFC 2045\] Freed, N. and Borenstein, N. Multipurpose Internet Mail**
> **Extensions (MIME) Part One: Format of Internet** Message ~~Format,” RFC 2822, April~~
> ~~2001. <http://www.faqs.org/rfcs/rfc2822>~~**Bodies.**
> **November 1996. Available at: <https://www.ietf.org/rfc/rfc2045.txt>**
> 
> ~~\[RFC3548\] Josefsson, S., “The Base16, Base32, and Base64 Data~~
> ~~Encodings,” RFC 3548, July 2003.~~
> ~~<http://www.faqs.org/rfcs/rfc3548.html>~~**\[RFC 2540\] Eastlake, D. Detached Domain Name System (DNS) Information.**
> **March 1999. Available at: <https://tools.ietf.org/html/rfc2540>**
> 
> ~~\[RFC3629\] Yergeau, F., “UTF-8, a transformation format of ISO~~
> ~~10646”, STD 63, RFC 3629, November 2003.~~
> ~~<http://www.faqs.org/rfcs/rfc3629.html>~~**\[RFC 2616\] Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter,**
> **L., Leach, P. and Berners-Lee, T. Hypertext Transfer Protocol —**
> **HTTP/1.1. June 1999 (TXT, PS, PDF, HTML, XML). Available at:**
> **<https://www.ietf.org/rfc/rfc2616.txt>**
> 
> ~~\[RFC3986\] Berners-Lee, T.; Fielding, R.; Masinter, L. “Uniform~~
> ~~Resource Identifier (URI): Generic Syntax,”~~**\[RFC 3629\] Yergeau, F. UTF-8, a transformation format of ISO 10646.** STD
> ~~66, RFC 3986, January~~
> ~~2005 (TXT, HTML, XML). <http://www.faqs.org/rfcs/rfc3986.html>~~**63, November 2003. Available at: <https://tools.ietf.org/html/rfc3629>**
> 
> ~~\[RFC4027\] Josefsson, S., “Domain Name System Media Types,” RFC 4027,~~
> ~~April 2005. <http://www.faqs.org/rfcs/rfc4027.html>~~
> 
> ~~\[RFC4501\] Josefsson, S., “Domain Name System Uniform Resource~~
> ~~Identifiers,” RFC 4501, May 2006.~~
> ~~<http://www.rfc-archive.org/getrfc.php?rfc=4501>~~

Shortened list of normative references

> Terms, definitions and ~~acronyms~~
> ~~===============================~~**abbreviated terms**
> **========================================**
> 
> Terms and definitions
> ---------------------
> 
> **For the purposes of this document, the following terms and definitions**
> **apply.**
> 
> ### WARC record
>
> ~~Basic~~**basic** constituent of a WARC file, consisting of a sequence of WARC
> ~~records.~~**records**
> 
> ### WARC record content block 
>
> ~~Part~~**part** (zero or more octets) of a WARC record that follows the header and
> that forms the main body of a WARC ~~record.~~**record**
> 
> ### WARC record payload
> 
> ~~Data~~**data** object referred to, or contained by a WARC record as a meaningful
> subset of the content ~~block.~~**block**
> 
> ### WARC record header
> 
> ~~Beginning~~**beginning** of a WARC record, consisting of one first line declaring the
> record to be in the WARC format with a given version number, followed by
> lines of named fields up to a blank ~~line.~~**line**
> 
> ### WARC named fields
> 
> ~~Set~~**set** of elements consisting of a name, a colon, and a value, with long
> values continued on indented ~~lines.~~**lines**
> 
> ### WARC logical record
> 
> ~~In~~**in** the context of segmentation, a logical record may be composed of
> multiple segments, each represented by a WARC ~~record.~~**record**
> 
> ~~Acronyms~~**Abbreviated terms**
> ~~--------~~**-----------------**
> 
> ABNF
> : ~~Augmented~~**augmented** Backus-Naur ~~Form~~**form**
> 
> ARC
> : ~~ARChive~~**archive**
> 
> CRLF
> : ~~Carriage Return Line Feed~~**carriage return line feed**
> 
> **DNS**
> **: domain name system**
> 
> **FTP**
> **: file transfer protocol**
> 
> HTTP
> : ~~HyperText Transport Protocol~~**hypertext transport protocol**
> 
> IANA
> : Internet Assigned Numbers Authority
>
> IESG
> : Internet Engineering Steering Group
> 
> RFC
> : ~~Request For Comments~~**request for comments**
> 
> ~~UR(I/L/N)~~**UR (I/L/N)**
> : ~~Uniform Resource (Identifier/Locator/Name)~~**uniform resource (identifier/locator/name)**
> 
> WARC
> : ~~Web ARChive~~**web archive**
> 

Capitalisation

> File and record model
> =====================
>
> A WARC format file is the simple concatenation of one or more WARC
> records. The first record usually describes the records to follow. In
> general, record content is either the direct result of a retrieval
> attempt ~~— web~~**(web** pages, inline images, URL redirection information, DNS
> hostname lookup results, standalone files, ~~etc. —~~**etc.)** or is synthesized
> material ~~(e.g.,~~**(e.g.** metadata, transformed content) that provides additional
> information about archived content.
> 
> **A** WARC record shall consist of a record header followed by a record
> content block and two ~~newlines.~~**new lines.** The WARC record header shall consist of
> one first line declaring the record to be in the WARC format with a
> given version number, then a variable number of line-oriented named
> fields terminated by a blank line. ~~With one major exception, allowing~~
> ~~UTF-8 \[RFC3629\], the~~**The** WARC record header format ~~largely follows~~**shall**
> **follow** the ~~tradition~~**general rules** of HTTP/1.1 ~~\[RFC2616\]~~**\[RFC 2616\]** and ~~\[RFC2822\] headers.~~**\[RFC 5322\]**
> **headers with one major exception: it shall also allow UTF-8 characters,**
> **as specified in \[RFC 3629\].**
> 
> The top-level view of a WARC file can be expressed in an ~~augmented~~
> ~~Backus-Naur Form (BNF)~~**ABNF** grammar,
> reusing the augmented constructs defined in section 2.1 of HTTP/1.1
> ~~\[RFC2616\].~~**\[RFC 2616\].** (In particular, note that to avoid the risk of confusion,
> where any WARC rule has the same name as an ~~RFC2616~~**\[RFC 2616\]** rule, the
> definition here has been made the same, except in the case of the CHAR
> rule, which in WARC includes multibyte ~~UTF-8~~**UTF- 8** characters.)

Grammar fixes and minor sentence restructuring to increase clarity

> 
>     warc-file    = 1*warc-record
>     warc-record  = header CRLF
>                    block CRLF CRLF
>     header       = version warc-fields
>     version      = ~~"WARC/1.0"~~**"WARC/1.1"** CRLF
>     warc-fields  = *named-field CRLF
>     block        = *OCTET
> 

Version bump and reformatting

> The record version shall appear first in every record and hence~~also~~ shall
> **also** begin the WARC file itself.
> 
> The WARC record relies heavily on named fields. Each named field
> consists of a name followed by a colon (":") and the field value. Field
> names are ~~case-insensitive.~~**not case-sensitive.** The field value may be preceded by any
> amount of linear ~~whitespace~~**white space** (LWS), though a single space is preferred.
> Header fields can be extended over multiple lines by preceding each
> extra line with at least one space or tab character.
> 
> Named fields may appear in any order and field values may contain any
> UTF-8 character. Both ~~defined-fields~~**defined- fields** and extension-fields follow the
> generic named-field format. ~~Extension fields~~**Extension-fields** may be used in extensions
> of the core format.
> 

Grammar and capitalisation

>     named-field   = field-name ":" [ field-value ]
>     field-name    = token
>     field-value   = *( field-content | LWS )     ; further qualified
>                                                  ; by field
>                                                  ; definitions
>     field-content = <the OCTETs making up the field-value and
>                     consisting of either *TEXT or combinations of
>                     token, separators, and quoted-string>
>     OCTET         = <any 8-bit sequence of data>
>     token         = 1*<any US-ASCII ~~character~~**character>**
>                     except CTLs or separators>
>     separators    = "(" | ")" | ~~"&lt;"~~**"<"** | ~~"&gt;"~~**">"** | "@"
>                        | "," | ";" | ":" | "\" | ~~&lt;"&gt;~~**<">**
>                        | "/" | "[" | "]" | "?" | "="
>                        | "{" | "}" | SP | HT
>     TEXT          = <any OCTET except CTLs,
>                     but including LWS>
>     CHAR          = <UTF-8 characters; RFC3629>  ; (0-191, 194-244)
>     DIGIT         = <any US-ASCII digit "0".."9">
>     CTL           = <any US-ASCII control character
>                     (octets 0 - 31) and DEL (127)>
>     CR            = <ASCII CR, carriage return>  ; (13)
>     LF            = <ASCII LF, linefeed>         ; (10)
>     SP            = <ASCII SP, space>            ; (32)
>     HT            = <ASCII HT, horizontal-tab>   ; (9)
>     CRLF          = CR LF
>     LWS           = [CRLF] 1*( SP | HT )         ; semantics same as
>                                                  ; single SP
>     quoted-string = ( <"> *(qdtext | quoted-pair ) <"> )
>     qdtext        = <any TEXT except <">>
>     quoted-pair   = "\" CHAR ; single-character quoting
>     uri           =~~"<"~~ <'URI' per RFC3986>~~">"~~
> 
> Although UTF-8 characters are allowed, the 'encoded-word' mechanism of
> \[RFC2047\] may also be used when writing WARC fields and shall also be
> understood by WARC reading software.
> 
> **<small>NOTE: in WARC 1.0 standard (ISO 28500:2009), uri was defined as "<"**
> **<'URI' per RFC 3986> ">". This rule has been changed to meet requests**
> **from implementers.</small>**
> 

`uri` is now defined without surrounding angle brackets. It was previously used in these header fields: WARC-Record-ID, WARC-Concurrent-To, WARC-Refers-To, WARC-Target-URI, WARC-Warcinfo-ID, WARC-Profile, WARC-Segment-Origin-ID. All of these except WARC-Target-URI and WARC-Profile now have the angle brackets directly in those header field definitions instead.

(The added `>` on the token definition seems like a typo: https://github.com/iipc/warc-specifications/issues/39)

> The rest of the WARC record grammar concerns defined-field parameters
> such as record identifier, record type, creation time, content length,
> and content type.
> 
>     defined-field  = WARC-Type
>                    | WARC-Record-ID
>                    | WARC-Date
>                    | Content-Length
>                    | Content-Type
>                    | WARC-Concurrent-To
>                    | WARC-Block-Digest
>                    | WARC-Payload-Digest
>                    | WARC-IP-Address
>                    | WARC-Refers-To
>                    | **WARC-Refers-To-Target-URI**
>                    | **WARC-Refers-To-Date**
>                    | WARC-Target-URI
>                    | WARC-Truncated
>                    | WARC-Warcinfo-ID
>                    | WARC-Filename                 ; warcinfo only
>                    | WARC-Profile                  ; revisit only
>                    | WARC-Identified-Payload-Type
>                    | WARC-Segment-Origin-ID        ; continuation only
>                    | WARC-Segment-Number
>                    | WARC-Segment-Total-Length     ; continuation only
> 

Two new fields, details below.

> Every WARC record shall have a type, reported in the WARC-Type field.
> ~~There are eight~~**Eight** WARC record ~~types:~~**types are defined in this International Standard as**
> **follows:**
> 
> **-** 'warcinfo',
> **-** 'response',
> **-** 'resource',
> **-** 'request',
> **-** 'metadata',
> **-** 'revisit',
> **-** 'conversion',
> ~~and~~**-** 'continuation'.
> 
> The relevant fields for each record type are~~further~~ described in ~~WARC~~
> ~~Record Types.~~**detail in**
> **Clause 6.** Each field's meaning and legal value format are described in
> ~~named fields.~~**Clause 5.**
> 
> The record block shall contain octet ~~content~~**content,** interpreted based on the
> record type and other header values. All records shall include a
> Content-Length field to specify the length of the block.
> 
> [...]
> 
> For example, in a ~~‘response’~~**'response'** record with a content block consisting of
> HTTP headers and a data object, the payload would be the data object.

Minor reformatting & grammar fixes

> All ~~‘response’, ‘resource’, ‘request’, ‘conversion’~~**'response', 'resource', 'request', 'revisit', 'conversion'** and
> ~~‘continuation’~~**'continuation'** records may have a payload. All ~~‘warcinfo’, ‘metadata’~~**'warcinfo'** and ~~‘revisit’~~**'metadata'**
> records shall not have a payload.

`revisit` records are now allowed to have a payload.

> 
> Content matching the warc-file rule shall have the MIME content-type
> "application/warc", ~~registered below~~**as specified** in ~~section 8.2.~~**8.**
> 
> Content matching only the warc-fields rule is useful as a simple
> descriptive format, and has MIME content-type "application/warc-fields",
> ~~registered below~~**as specified** in ~~section 8.3.~~**8.**
> 

Minor rephrasing

> **New named fields and new records types may be defined in extensions of**
> **the core format. However, it is strongly recommended to discuss any**
> **addition to verify that a suitable field or type doesn't already exist**
> **to avoid collision. Discussion should notably be held within the IIPC.**
> **More information on <http://bibnum.bnf.fr/warc/>.**

A new explicit mention that extensions can define their own fields and records but that is discouraged.

> 
> Named fields
> ~~================~~**============**
> 
> General
> -------
> 
> Named fields within a WARC record provide information about the current
> ~~record, and allow additional per-record information.~~**record.** WARC both reuses appropriate headers from other standards and
> defines new headers, all beginning "WARC-", for ~~WARC-specific~~**WARC- specific** purposes.
> 
> WARC named fields of the same type shall not be repeated in the same
> WARC record (for example, a WARC record shall not have several WARC-Date
> or several WARC-Target-URI), except as noted ~~(e.g.,~~**(e.g.** WARC-Concurrent-To).
> 
> Because new fields may be defined in extensions to the core WARC format,
> WARC processing software shall ignore fields with unrecognized names.
> 
> WARC-Record-ID (mandatory)
> --------------------------
> 
> ~~An~~**A WARC-Record-ID is an** identifier assigned to the current record that is
> globally unique for its period of intended use. No identifier scheme is
> mandated by this specification, but each ~~record-id~~**WARC-Record-ID** shall be a legal
> URI and clearly indicate a documented and registered scheme to which it
> conforms ~~(e.g.,~~**(e.g.** via a URI scheme prefix such as "http:" or "urn:"). Care
> should be taken to ensure that this value is written with no internal
> ~~whitespace.~~**white space.**

Minor grammar fixes

>     WARC-Record-ID   = "WARC-Record-ID" ":" **"<"** uri **">"**

Explicit addition of the angle brackets since `uri` no longer includes them (see above)

> 
> All records shall have a WARC-Record-ID field.
> 
> Content-Length (mandatory)
> --------------------------
> 
> The **Content-Length is the** number of octets in the block, similar to ~~\[RFC2616\].~~**\[RFC**
> **2616\].** If no block is present, a value of ~~'0'~~**"0"** (zero) shall be used.
> 
>     Content-Length   = "Content-Length" ":" ~~1\*DIGIT~~**1*DIGIT**
> 
> All records shall have a Content-Length field.
> 

Minor notation fixes

> WARC-Date (mandatory)
> ---------------------
> 
> ~~A 14-digit~~**The WARC-Date is a** UTC timestamp ~~formatted according to YYYY-MM-DDThh:mm:ssZ,~~**as** described in the W3C profile of ~~ISO8601 \[W3CDTF\].~~**ISO**
> **8601:1988 \[W3CDTF\], for example YYYY-MM-DDThh:mm:ssZ.** The timestamp
> shall represent the instant that data capture for record creation began.
> Multiple records written as part of a single capture event (see section
> 5.7) shall use the same WARC-Date, even though the times of their
> writing will not be exactly synchronized.
> 
> **WARC-Date may be specified at any of the levels of granularity described**
> **in \[W3CDTF\]. If WARC-Date includes a decimal fraction of a second, the**
> **decimal fraction of a second shall have a minimum of 1 digit and a**
> **maximum of 9 digits. WARC-Date should be specified with as much**
> **precision as is accurately known. This document recommends no particular**
> **algorithm for access software to choose a record by date when an exact**
> **match is not available.**
> 
>     WARC-Date = "WARC-Date" ":" w3c-iso8601
>     w3c-iso8601 = ~~<YYYY-MM-DDThh:mm:ssZ>~~**<a UTC timestamp formatted according to [W3CDTF]>**
> 
> All records shall have a WARC-Date field.
> 
> **See Annex A for examples on usage of WARC-Date fields.**
> 

WARC-Date values are much more versatile now, allowing anything between just a year and down to nanoseconds. The WARC/1.0 date format is still valid in 1.1.

> WARC-Type (mandatory)
> ---------------------
> 
> ~~The~~**WARC-Type is the** type of WARC ~~record: one of~~**record. Record types defined in this**
> **International Standard are:**
> 
> **-** 'warcinfo',
> **-** 'response',
> **-** 'resource',
> **-** 'request',
> **-** 'metadata',
> **-** 'revisit',
> **-** 'conversion', ~~or~~**and**
> **-** 'continuation'.
> 
> Other types of WARC records may be defined in extensions of the core
> format. Types are further described in ~~WARC Record Types.~~**Clause 6.**
> 
> A WARC file needs not **to** contain any particular record types, though
> starting all WARC files with a ~~"warcinfo"~~**'warcinfo'** record is recommended.
> 
>     WARC-Type   = "WARC-Type" ":" record-type
>     record-type = "warcinfo" | "response" | "resource"
>                 | "request" | "metadata" | "revisit"
>                 | "conversion" | "continuation"~~| future-type~~
>     ~~future-type = token~~
> 
> All records shall have a WARC-Type field.
> 
> WARC processing software shall ignore records of unrecognized type. **See**
> **Annex A for examples on usage of WARC-Type fields.**

`future-type` is no longer defined but this is covered in the extension note above instead.

New link to annex A.

> Content-Type
> ------------
> 
> The **Content-Type field is the** MIME type ~~\[RFC2045\]~~**(as defined in \[RFC 2045\])** of~~the~~
> information contained in the record's block. For example, in HTTP
> request and response records, this would be 'application/http' as
> ~~per section~~**specified in** 19.1 of \[RFC2616\] (or 'application/http; msgtype=request'
> and 'application/http; msgtype=response' respectively). In particular,
> the content-type is not the value of the HTTP Content-Type header in ~~an~~**a**
> HTTP response but a MIME type to describe the full archived HTTP message
> (hence 'application/http' if the block contains request or response
> headers).

Minor grammar and notation fixes

> [...]
>
> WARC-Concurrent-To
> ------------------
> 
> The ~~WARC-Record-IDs~~**WARC-Concurrent-To field (or fields) contains the WARC-Record-ID** of
> any records created as part of the same capture event as the current
> record. A capture event comprises the information automatically gathered
> by a retrieval against a single ~~target-URI;~~**WARC-Target-URI;** for example, it ~~might~~**may** be
> represented by a 'response' or 'revisit' record plus its associated
> 'request' record.

Minor clarifications

>     WARC-Concurrent-To = "WARC-Concurrent-To" ":" **"<"** uri **">"**

Explicit inclusion of the angle brackets due to the `uri` redefinition

> This field may be used to associate records of types 'request',
> 'response', 'resource', 'metadata', and 'revisit' with one another when
> they arise from a single capture ~~event~~**event.** (When so used, any WARC-
> Concurrent-To association shall be considered bidirectional even if the
> header only appears on one record.) The ~~WARC Concurrent-to~~**WARC-Concurrent-To** field shall
> not be used in 'warcinfo', 'conversion', and 'continuation' records.
> 
> As an exception to the general rule, ~~it is allowed to repeat~~ several WARC-Concurrent-To fields
> **may be repeated** within the same WARC record.
>
> **See Annex A for examples on usage of WARC-Concurrent-To fields.**

Minor grammar fixes and clarifications, new link to annex A.

> WARC-Block-Digest
> -----------------
> 
> 
> ~~An~~**The WARC-Block-Digest is an** optional parameter indicating the algorithm
> name and calculated value of a digest applied to the full block of the
> record.
> 
>     WARC-Block-Digest = "WARC-Block-Digest" ":" labelled-digest
>     labelled-digest   = algorithm ":" digest-value
>     algorithm         = token
>     digest-value      = token
> 
> 
> An example is a SHA-1 labelled Base32 ~~(\[RFC3548\])~~**(\[RFC4648\])** value:
> 
>     WARC-Block-Digest: sha1:AB2CD3EF4GH5IJ6KL7MN8OPQ
> 
> ~~This document recommends no~~**No** particular ~~algorithm.~~**algorithm is recommended.**
> 
> Any record may have a WARC-Block-Digest field.
> 
> WARC-Payload-Digest
> -------------------
> 
> ~~An~~**A WARC-Payload-Digest is an** optional parameter indicating the algorithm name and calculated value of a digest applied to the payload referred to or contained by the ~~record -~~**record,** which is not necessarily equivalent to the record block.
> 
>     WARC-Payload-Digest = "WARC-Payload-Digest" ":" labelled-digest
> 
> An example is a SHA-1 labelled Base32 ~~(\[RFC3548\])~~**(\[RFC4648\])** value:
> 
>     WARC-Payload-Digest: sha1:3EF4GH5IJ6KL7MN8OPQAB2CD
> 
> ~~This document recommends no~~**No** particular ~~algorithm.~~**algorithm is recommended.**
> 
> The payload of an application/http block is its 'entity-body' ~~(per~~
> ~~\[RFC2616\]).~~**(specified**
> **in \[RFC 2616\]).** In contrast to WARC-Block-Digest, the
> WARC-Payload-Digest field may also be used for data not actually present
> in the current record block, for example when a block is left off in
> accordance with a 'revisit' profile (see ~~'revisit'),~~**6.7),** or when a record is
> segmented (the WARC-Payload-Digest recorded in the ~~first segment~~**segments** of a
> segmented record shall be the digest of the payload of the logical
> record).
> 
> The WARC-Payload-Digest field may be used on WARC records with a
> well-defined payload and shall not be used on records without a
> well-defined payload.
>
> WARC-IP-Address
> ---------------
> 
> The **WARC-IP-Address is the** numeric Internet address contacted to
> retrieve any included content. An IPv4 address shall be written as a
> "dotted quad"; an IPv6 address shall be written as ~~per \[RFC1884\].~~**specified in**
> **\[RFC4291\].** For ~~an~~**a** HTTP retrieval, this will be the IP address used at
> retrieval time corresponding to the hostname in the record's target-Uri.
> 
>     WARC-IP-Address = "WARC-IP-Address" ":" (ipv4 | ipv6)
>     ipv4            = <"dotted quad">
>     ipv6            = <per section 2.2 of ~~RFC1884>~~**RFC4291>**
> 
> The WARC-IP-Address field may be used on 'response', 'resource',
> 'request', 'metadata', and 'revisit' records, but shall not be used on
> ~~‘warcinfo’,~~**'warcinfo',** 'conversion' or 'continuation' records.
> 
> WARC-Refers-To
> --------------
> 
> The **WARC-Refers-To field contains the** WARC-Record-ID of a single record
> for which the present record holds additional content.

Minor clarifications and grammar fixes

>     WARC-Refers-To  = "WARC-Refers-To" ":" **"<"** uri **">"**

Explicit inclusion of the angle brackets due to `uri` redefinition

> [...]
> 
> **See Annex A for examples on usage of WARC-Refers-To fields.**
> 

New link to annex A

> **WARC-Refers-To-Target-URI**
> **-------------------------**
> 
> **The WARC-Refers-To-Target-URI field contains the WARC-Target-URI of a**
> **record for which the present record is considered a revisit of.**
> 
> **    WARC-Refers-To-Target-URI = "WARC-Refers-To-Target-URI" ":" uri**
> 
> **The WARC-Refers-To-Target-URI field may be used to associate a record of**
> **type 'revisit' with another record which contains the resource which has**
> **not been archived.**
> 
> **The WARC-Refers-To-Target-URI field may be used in ‘revisit’ records and**
> **shall not be used in 'warcinfo', 'response', 'metadata', 'conversion',**
> **‘resource’, 'request', and 'continuation' records.**
> 
> **WARC-Refers-To-Date**
> **-------------------**
> 
> **The WARC-Refers-To-Date field contains the WARC-Date of a record for**
> **which the present record is considered a revisit of.**
> 
> **    WARC-Refers-To-Date = "WARC-Refers-To-Date" ":" w3c-iso8601**
> **    w3c-iso8601         = <a UTC timestamp formatted according to**
> **                          [W3CDTF]>**
> 
> **The WARC-Refers-To-Date field may be used to associate a record of type**
> **'revisit' with another record which contains the resource which has not**
> **been archived.**
> 
> **The WARC-Refers-To-Date field may be used in ‘revisit’ records and shall**
> **not be used in 'warcinfo', 'response', 'metadata', 'conversion',**
> **‘resource’, 'request', and 'continuation' records.**
> 

New header fields to link to another record using the target URI and datetime rather than a record ID (for convenience).

(Note that WARC-Refers-To-Target-URI does not include angle brackets.)

> WARC-Target-URI
> ---------------
> 
> The **WARC-Target-URI is the** original URI whose capture gave rise to the
> information content in this record. In the context of web harvesting,
> this is the URI that was the target of a crawler's retrieval request.
> For a 'revisit' record, it is the URI that was the target of a retrieval
> request. Indirectly, such as for a 'metadata', or 'conversion' record,
> it is a copy of the WARC-Target-URI appearing in the original record to
> which the newer record pertains. The URI in this value shall be~~properly escaped~~
> ~~according to \[RFC3986\] and~~ written
> ~~with no internal whitespace.~~**as specified in \[RFC 3986\].**
> 
>     WARC-Target-URI    = "WARC-Target-URI" ":" uri
> 
> All 'response', 'resource', 'request', 'revisit', ‘conversion’ and
> 'continuation' records shall have a ~~WARC-Target-URI~~**WARC- Target-URI** field. A 'metadata'
> record may have a WARC-Target-URI field. A 'warcinfo' record shall not
> have a WARC-Target-URI field.
> 
> [...] result, only a truncated portion of the original resource may be
> available for saving into a WARC record.
> 
> Any record may indicate that truncation of its content block has
> occurred and give the reason with a ~~'WARC-Truncated'~~**WARC-Truncated** field.

Minor notation fixes

>     WARC-Truncated = "WARC-Truncated" ":" reason-token
>     reason-token   = "length"         ; exceeds configured max
>                                       ; length
>                    | "time"           ; exceeds configured max time
>                    | "disconnect"     ; network disconnect
>                    | "unspecified"    ; other/unknown reason
>                    ~~| future-reason~~
>     ~~future-reason  = token~~
>
> **Other reasons may be defined in extensions of the core format.**

`future-reason` is now covered by the general note above about extensions.

> For example, if the capture of what appeared to be a multi-gigabyte
> resource was cut short after a transfer time limit was reached, the
> partial resource could be saved to a WARC record with this field.
> 
> The WARC-Truncated field may be used on any WARC record. The WARC~~field~~
> Content-Length **field** shall still report the actual truncated size of the
> record block.
> 
> WARC-Warcinfo-ID
> ----------------
> 
> When present, **the WARC-Warcinfo-ID** indicates the WARC-Record-ID of the
> associated 'warcinfo' record for this record. Typically, the
> ~~Warcinfo-ID~~**WARC-Warcinfo-ID** parameter is used when the context of the applicable
> 'warcinfo' record is unavailable, such as after distributing single
> records into separate WARC files. WARC writing applications (such **as** web
> crawlers) may choose to always record this parameter.

Minor notation fixes

>     WARC-Warcinfo-ID = "WARC-Warcinfo-ID" ":" **"<"** uri **">"**

Explicit inclusion of the angle brackets due to the `uri` redefinition

> The WARC-Warcinfo-ID field value overrides any association with a
> previously occurring (in the WARC) 'warcinfo' record, thus providing a
> way to protect the true association when records are combined from
> different ~~WARCs.~~**WARC files.**
> 
> The WARC-Warcinfo-ID field may be used in any record type except 'warcinfo'.
> 
> WARC-Filename
> -------------
> 
> The **WARC-Filename is the** filename containing the current 'warcinfo' record.
> 
>     WARC-Filename = "WARC-Filename" ":" ( TEXT | quoted-string )
> 
> [...]
>
> WARC-Profile
> ------------
> 
> ~~A~~**The WARC-Profile is a** URI signifying the kind of analysis and handling
> applied in a 'revisit' record. (Like an XML namespace, the URI may, but
> ~~need~~**needs** not, return human-readable or machine-readable documentation.) If
> reading software does not recognize the given URI as a supported kind of
> handling, it shall not attempt to interpret the associated record block.
> 
>     WARC-Profile = "WARC-Profile" ":" uri
> 
> The section 'revisit' defines two initial profile options for the
> WARC-Profile header for 'revisit' records. The WARC-Profile field is
> mandatory on 'revisit' type records and undefined for other record
> types.
> 
> [...]
>
> WARC-Segment-Number
> -------------------
> 
> ~~Reports~~**The WARC-Segment-Number reports** the current record's relative ordering
> in a sequence of segmented records.
> 
>     WARC-Segment-Number = "WARC-Segment-Number" ":" 1*DIGIT
> 
> [...]
> 
> See ~~the section below, Record Segmentation,~~**Clause 7 on record segmentation** for full details on the use of WARC
> record segmentation.
> 
> WARC-Segment-Origin-ID
> ----------------------
> 
> ~~Identifies~~**The WARC-Segment-Origin-ID identifies** the starting record in a series of segmented records whose content blocks are reassembled to obtain a logically complete content block.

Minor rephrasing

>     WARC-Segment-Origin-ID = "WARC-Segment-Origin-ID" ":" **"<"** uri **">"**

Explicit inclusion of the angle brackets due to the `uri` redefinition

> This field is mandatory on all 'continuation' records, and shall not be
> used in other records. See ~~the section below, Record segmentation,~~**Clause 7 on record segmentation** for full
> details on the use of WARC record segmentation.
> 
> WARC-Segment-Total-Length
> -------------------------
> 
> In the final record of a segmented series, **the WARC-Segment-Total-Length**
> reports the total length of all segment content blocks when concatenated
> together.
> 
>     WARC-Segment-Total-Length = "WARC-Segment-Total-Length" ":" 1*DIGIT
> 
> This field is mandatory on the last 'continuation' record of a series,
> and shall not be used elsewhere. See ~~the section below, Record segmentation,~~**Clause 7 on record segmentation** for
> full details on the use of WARC record segmentation.
> 
> WARC Record Types
> =================
>
> General
> -------
> 
> The purpose and use of each defined record type is described ~~below.~~**in 6.2 to 6.9.**
> 
> Because new record types that extend the WARC format may be defined in
> future ~~standards,~~**versions of the WARC standard,** WARC processing software shall
> skip records of unknown type.
> 
> 'warcinfo'
> ----------
>
> [...]
> 
> ~~'operator'~~
> ~~: Contact~~**1. 'operator': contact** information for the operator who created this
>     WARC resource. A name or name and email address is recommended.
> ~~'software'~~
> ~~: The~~**2. 'software': the** software and software version used to create this
>    WARC resource. For example, "heritrix/1.12.0".
> ~~'robots'~~
> ~~: The~~**3. 'robots': the** robots policy followed by the harvester creating this
>    WARC resource. The string 'classic' indicates the 1994 web robots
>    exclusion standard rules are being obeyed.
> ~~'hostname'~~
> ~~: The~~**4. 'hostname': the** hostname of the machine that created this WARC
>    resource, such as "crawling17.archive.org".
> ~~'ip'~~
> ~~: The~~**5. 'ip': the** IP address of the machine that created this WARC resource,
>    such as "123.2.3.4".
> ~~'http-header-user-agent'~~
> ~~: The~~**6. 'http-header-user-agent': the** HTTP 'user-agent' header usually sent
>    by the harvester along with each request. Note that if 'request'
>    records are used to save verbatim requests, this information is
>    redundant. (If a 'request' or 'metadata' record reports a different
>    'user-agent' for a specific request, the more specific information
>    should be considered more reliable.)
> ~~'http-header-from'~~
> ~~: The~~**7. 'http-header-from': the** HTTP ~~'From'~~**'from'** header usually sent by the
>    harvester along with each request. (The same considerations as for
>    'user-agent' apply.)
> 
> **It may also contain technical information such as base encoding of the**
> **digests used in named fields.**
> 
> So that multiple record excerpts from inside WARC files are also valid
> WARC files, it is optional that the first record of a legal WARC be a
> 'warcinfo' description. Also, to allow the concatenation of WARC files
> into a larger valid WARC file, it is allowable for 'warcinfo' records to
> appear **anywhere** in~~the middle of~~ a WARC file.
> 
> See ~~annex C.1 below~~**B.1** for an example of a ~~‘warcinfo’~~**'warcinfo'** record.

Minor notation changes and rephrasing

The base encoding of digests is now mentioned explicitly, but the list is anyway not restrictive ("Allowable fields include, but are not limited to ..."), and all of this is just a recommendation.

> 'response'
> ----------
>
> ### General
> 
> A 'response' record should contain a complete scheme-specific response,
> including network protocol ~~information~~**information,** where possible. The exact
> contents of a 'response' record are determined not just by the record
> type but also by the URI scheme of the record's target-URI, as described
> ~~below.~~**in 6.3.2 to 6.3.3.**
> 
> See ~~annex C.2 below~~**B.2** for an example of a ~~‘response’~~**'response'** record.
> 
> ###~~for~~ 'http' and 'https' schemes
> 
> For a target-URI of the 'http' or 'https' schemes, a 'response' record
> block should contain the full HTTP response received over the network,
> including ~~headers. That is,~~**headers, i.e.** it contains the ~~'Response'~~**'response'** message defined by
> section 6 of HTTP/1.1 ~~(RFC2616),~~**(\[RFC 2616\]),** or by any previous or subsequent
> version of HTTP compatible with~~the~~ section 6 of HTTP/1.1 ~~(RFC2616).~~**(\[RFC 2616\]).**
> 
> The WARC record's Content-Type field should contain [...]
> effort determination of the interesting material boundaries. That is,
> neither the use of the 'response' record with ~~an~~**a** 'http' target-URI nor
> the 'application/http' content-type serves as an absolute guarantee that
> the contained material is a legal HTTP response.
>
> A WARC-IP-Address field should be used to record the network IP address
> from which the response material was received.

Minor phrasing changes etc.

> ~~When a 'response' is known to have been truncated, this shall be noted~~
> ~~using the WARC-Truncated field.~~

WARC 1.1 does not require use of WARC-Truncated, but it also doesn't disallow it, so nothing changes effectively for using this header.

https://github.com/iipc/warc-specifications/issues/62

> ~~A WARC-Concurrent-To field (or fields) may be used to associate the~~
> ~~'response' to a matching 'request' record or concurrently-created~~
> ~~'metadata' record.~~

This is explained in the definition of WARC-Concurrent-To.

> ~~The payload of a 'response' record with a target-URI of scheme 'http' or~~
> ~~'https' is defined as its 'entity-body' (per \[RFC2616\]), with any~~
> ~~transfer-encoding removed. If a truncated 'response' record block~~
> ~~contains less than the full entity-body, the payload is considered~~
> ~~truncated at the same position.~~

Defined in the WARC-Payload-Digest field description instead

> ~~This document does not specify conventions for recording information~~
> ~~about the 'https' secure socket transaction, such as certificates~~
> ~~exchanged, consulted, or verified.~~

This is mentioned in the definition of the `request` record type only now.

> ### ~~for other URI schemes~~**Other URI schemes**
> 
> ~~This document does not specify the contents of the 'response' record for~~
> other URI schemes.
> **The contents of the 'response' record for other URI schemes are not**
> **specified in this International Standard.**
>
> **other URI schemes.**

Rephrasing, and typo (https://github.com/iipc/warc-specifications/issues/61)

> 
> 'resource'
>
> [...]
>
> information. For example: a file directly retrieved from a locally
> accessible repository or the result of a networked retrieval where the
> protocol information has been discarded. The exact contents of a
> 'resource' record are determined not just by the record type but also by
> the URI scheme of the record's target-URI, as described ~~below.~~**in 6.4.2 to**
> **6.4.5.**
> 
> For all 'resource' records, the payload is defined as the record block.
> 
> A 'resource' record, with a synthesized target-URI, may also be used to
> archive other artefacts of a harvesting process inside WARC files.
> 
> See ~~annex C.3 below~~**B.3** for an example of a ~~‘resource’~~**'resource'** record.
> 
> ###~~for~~ 'http' and 'https' schemes
> 
> For a target-URI of the 'http' or 'https' schemes, a 'resource' record
> block shall contain the returned 'entity-body' ~~(per \[RFC2616\], with~~
> ~~any transfer-encodings removed),~~**(as specified in \[RFC**
> **2616\]),** possibly truncated.
> 
> ###~~for~~ 'ftp' scheme
> 
> For a target-URI of the 'ftp' scheme, a 'resource' record block shall
> contain the complete file returned by an FTP operation, possibly
> truncated.
> 
> ###~~for~~ 'dns' scheme
> 
> For a target-URI of the 'dns' scheme ~~(\[RFC4501\]),~~**(\[RFC 4501\]),** a 'resource' record
> shall contain material of ~~content-type~~**content- type** 'text/dns' (registered by ~~\[RFC4027\]~~**\[RFC**
> **4027\]** and defined by ~~\[RFC2540\]~~**\[RFC 2540\]** and ~~\[RFC1035\])~~**\[RFC 1035\])** representing the
> results of a single DNS lookup as described by the target-URI.
> 
> ### ~~for other~~**Other** URI schemes
> 
> ~~This document does not specify the~~**The** contents of the 'resource' record for other URI ~~schemes.~~**schemes are not specified in this International Standard.**

Minor rephrasing etc.

> 'request'
> ---------
>
> ### General
> 
> A 'request' record holds the details of a complete scheme-specific
> request, including network protocol ~~information~~**information,** where possible. The
> exact contents of a 'request' record are determined not just by the
> record type but also by the URI scheme of the record's target-URI, as
> described ~~below.~~**below (from 6.5.2 to 6.5.3).**
> 
> See ~~annex C.4 below~~**B.4** for an example of a ~~‘request’~~**'request'** record.
> 
> ###~~for~~ 'http' and 'https' schemes
> 
> For a target-URI of the 'http' or 'https' schemes, a 'request' record
> block should contain the full HTTP request sent over the network,
> including headers. That is, it contains the ~~'Request'~~**'request'** message defined by
> section 5 of HTTP/1.1 ~~(RFC2616),~~**\[RFC 2616\],** or by any previous or subsequent
> version of HTTP compatible with~~the~~ section 5 of HTTP/1.1 ~~(RFC2616).~~**\[RFC 2616\].**
> 
> The WARC record's Content-Type field should contain the value defined by
> HTTP/1.1, "application/http;msgtype=request".

Minor rephrasing

> [...]
>
> The payload of a 'request' record with a target-URI of scheme 'http' or
> 'https' is defined as its ~~'entity-body' (per \[RFC2616\]), with any~~
> ~~transfer-encoding removed.~~**'entity- body' (as specified in \[RFC 2616\]).**

WARC/1.1 request bodies should have the Transfer-Encoding intact, whereas WARC/1.0 were supposed to have it removed.
Although I have not checked, I doubt that many tools ever followed the 1.0 spec here, if any at all. Many tools don't support transfer-encoded requests anyway (e.g. wget), and request bodies are quite rare in the context of web crawling. However, this should be investigated.

https://github.com/iipc/warc-specifications/issues/22

> If a truncated 'request' record block contains less than the full
> ~~entity-body,~~**entity- body,** the payload is considered truncated at the same position.
> 
> ~~This document does not specify conventions~~**Conventions** for recording information about the 'https' secure socket
> transaction, such as certificates exchanged, consulted, or ~~verified.~~**verified, are**
> **not in the scope of this International Standard.**
> 
> ### ~~for other~~**Other** URI schemes
> 
> This document does not specify the contents of the 'request' record for
> other URI schemes.
>
> [...]
>
> covered by other record types. A 'metadata' record will almost always
> refer to another record of another type, with that other record holding
> original harvested or transformed content. (However, it is allowable for
> a 'metadata' record to refer to any record type, including other
> 'metadata' records.) Any number of metadata records may reference
> ~~one~~**another** specific~~other~~ record.
> 
> The format of the metadata record block may vary. The
> "application/warc-fields" ~~format, defined earlier,~~**format** may be used. Allowable fields include
> all \[DCMI\] plus the following field definitions. All fields are
> optional.
> 
> ~~'via'~~
> ~~: The~~**- 'via': the** referring URI from which the archived URI was discovered.
> ~~'hopsFromSeed'~~
> ~~: A~~**- 'hopsFromSeed': a** symbolic string describing the type of each hop from
>   a starting 'seed' URI to the current URI.
> ~~'fetchTimeMs'~~
> ~~: Time~~**- 'fetchTimeMs': time** in milliseconds that it took to collect the
>   archived URI, starting from the initiation of network traffic.
> 
> A 'metadata' record may be associated with other records derived from
> the same capture event using the WARC-Concurrent-To header. A 'metadata'
> record may be associated to another record which it ~~describes~~**describes,** using the
> WARC-Refers-To header.
> 
> See ~~annex C.5 below~~**B.5** for an example of a ~~‘metadata’~~**'metadata'** record.
> 
> 'revisit'
> ---------
>
> [...]
> 
> See ~~annex C.6 below~~**B.6** for an example of a ~~‘revisit’~~**'revisit'** record.

Minor wording changes

> ### Profile: Identical Payload Digest
> 
> This 'revisit' profile may be used whenever a subsequent consideration
> of a URI provides payload content which a strong digest function, such
> as SHA-1, indicates is identical to a previously ~~recorded~~**archived** version. **It is**
> **not necessary that the URI of the original capture and the revisit be**
> **identical.**

WARC 1.0 did not require that either but it was technically unspecified.

> To indicate this profile, use the URI:
> 
> ~~<http://netpreserve.org/warc/1.0/revisit/identical-payload-digest>~~**http://netpreserve.org/warc/1.1/revisit/identical-payload-digest**

Version bump

> [...]
>
> [...] A WARC-Truncated header with reason 'length' shall be used for any
> identical-digest truncation. **It is recommended that server response**
> **headers be preserved in the revisit record in this manner.**

There was no such recommendation in the 1.0 specs, but it was allowed by the spec (and used by some implementations).

> For records using this profile, the payload is defined as the original
> payload content whose digest value was unchanged.
> 
> Using a WARC-Refers-To header to identify a specific prior record from
> which the matching content can be retrieved is recommended, to minimize
> the risk of misinterpreting the 'revisit' record. **The following two**
> **optional fields can also be used to associate the revisit record with**
> **the original record. Their use is recommended:**
> 
> **- WARC-Refers-To-Target-URI. Its value should be equal to the**
> **  WARC-Target-URI in the WARC record that the current record is**
> **  considered a duplicate of.**
> **- WARC-Refers-To-Date. Its value should be equal to the WARC-Date in the**
> **  WARC record that the current record is considered a duplicate of.**

New header fields

> ### Profile: Server Not Modified
> 
> This 'revisit' profile may be used whenever a subsequent consideration
> of a URI encounters an assertion from the providing server that the
> content has not changed, such as ~~an~~**a** HTTP "304 Not Modified" response.

Minor grammar

> To indicate this profile, use the URI:
> 
> ~~<http://netpreserve.org/warc/1.0/revisit/server-not-modified>~~**http://netpreserve.org/warc/1.1/revisit/server-not-modified**

Version bump

> [...]
> 
> For records using this profile, the payload is defined as the original
> payload content from which a ~~'Last-Modified'~~**'Last- Modified'** and/or 'ETag' value was
> taken.

Minor notation

> Using a WARC-Refers-To header to identify a specific prior record from
> which the unmodified content can be retrieved is recommended, to
> minimize the risk of misinterpreting the 'revisit' record. **WARC-**
> **Refers-To-Date may be optionally used to help resolve the original**
> **capture. Its value should be equal to the WARC-Date in the WARC record**
> **that the current record is considered a duplicate of. Its use is**
> **recommended.**

New header field

> ### Other profiles
> 
> Other documents may define additional profiles to accomplish other
> goals, such as recording the apparent magnitude of difference from the
> previous visit, or to encode the visited content as a "diff" ~~-- where~~**(where**
> "diff" is the file comparison utility that outputs the differences
> between two ~~files --~~**files)** of the content previously stored.
> 
> 'conversion'
> ------------
>
> [...]
>
> originally stored format disappear. As needed, the original content may
> be migrated (transformed) to a more viable format in order to keep the
> information usable with current tools while minimizing loss of
> information (intellectual content, look and feel, ~~etc).~~**etc.).** Any number of
> 'conversion' records may be created that reference a specific source
> record, which may itself contain transformed content. Each
> transformation should result in a freestanding, complete record, with no
> dependency on survival of the original record.
> 
> ~~Metadata records may be used to further describe transformation records.~~
> Wherever practical, a 'conversion' record should contain a
> ~~'WARC-Refers-To'~~**WARC-Refers-To** field **so as** to identify the prior material converted.
> 
> **Metadata records may be used to further describe transformation records.**
> For 'conversion' records, the payload is defined as the record block.
> 
> See ~~annex C.7 below~~**B.7** for an example of a ~~‘conversion’~~**'conversion'** record.
> 
> 'continuation'
> --------------
> 
> Record blocks from 'continuation' records must be appended to
> corresponding prior record block(s) ~~(e.g.,~~**(e.g.** from other WARC files) to
> create the logically complete full-sized original record. That is,
> 'continuation' records are used when a record that would otherwise cause
> a WARC file size to exceed a desired limit is broken into segments. A
> continuation record shall contain the named fields ~~'WARC-Segment-Origin-ID'~~**WARC-**
> **Segment-Origin-ID** and ~~'WARC-Segment-Number',~~**WARC-Segment-Number,** and the last 'continuation'
> record of a series shall contain a ~~'WARC-Segment-Total-Length'~~**WARC-Segment-Total-Length** field. The
> full details of WARC record segmentation are described in ~~the below section Record Segmentation.~~**Clause 7.**
> 
> See ~~also annex C.8 below~~**B.8** for an example of a ~~‘continuation’~~**'continuation'** record.
> 
> Record segmentation
> ===================
>
> A record that will not fit into a single WARC file of desired maximum
> size may be broken into a number of separate records, called segments.
> 
> The first segment of a segmented series shall carry the original ~~record-type~~**record**
> **type** (not 'continuation'), and a ~~'WARC-Segment-Number'~~**WARC-Segment-Number** field with a value
> of "1".
> 
> All subsequent segments shall have a record type of 'continuation', with
> an incremented ~~'WARC-Segment-Number'~~**WARC- Segment-Number** field. They shall also include a
> ~~'WARC-Segment-Origin-ID'~~**WARC-Segment-Origin-ID** field with a value of the WARC-Record-ID of the
> record containing the first segment of the set. All segments of a set
> shall have identical target-URI values. Segments may have individual
> WARC-Block-Digest fields.
> 
> The last segment shall contain a ~~"WARC-Segment-Total-Length"~~**WARC-Segment-Total-Length** field
> specifying the total length, in bytes, of all segment content ~~blocks~~**blocks,** if
> reassembled. The last segment may also contain a ~~'WARC-Truncated'~~**WARC-Truncated** field,
> if appropriate.
> 
> [...]
> 
> To reassemble all segments into the intended complete logical record,
> the content blocks of all records with the same 'WARC-Segment-Origin-ID'
> value are collected and appended, in ~~'WARC-Segment-Number'~~**'WARC-Segment- Number'** order, to
> the origin record's content block. The resulting assembled record adopts
> as its ~~'Content-Length'~~**Content-Length** the 'WARC-Segment-Total-Length' value. It also
> adopts any 'WARC-Truncated' reason of the final segment.
> 
> Segmentation shall not be used if there is another way to store the
>
> [...]
> 
> Segmentation may be applied to any original record type other than
> 'continuation', but its use on 'warcinfo', 'request', 'metadata' and
> ~~‘revisit’~~**'revisit'** records is not recommended.

Minor spelling etc.

> ~~Registration of MIME media types application/warc and application/warc-fields~~
> ~~========================================================================~~
> 
> ~~General~~
> ~~-------~~
> 
> ~~This section describes, as per \[RFC2048\], the MIME types associated~~
> ~~with the WARC format.~~
> 
> ~~application/warc~~
> ~~----------------~~
> 
> ~~MIME media type name: application~~
> 
> ~~MIME subtype names: warc~~
> 
> ~~Required parameters: None~~
> 
> ~~Optional parameters: None~~
> 
> ~~Encoding considerations:~~
> 
> ~~Content of this type is in 'binary' format.~~
> 
> ~~Security considerations:~~
> 
> ~~The WARC record syntax poses no direct risk to computers and networks.~~
> ~~Implementers need to be aware of source authority and trustworthiness of~~
> ~~information structured in WARC. Readers and writers subject themselves~~
> ~~to all the risks that accompany normal operation of data processing~~
> ~~services (e.g., message length errors, buffer overflow attacks).~~
> 
> ~~Interoperability considerations: None~~
> 
> ~~Published specification: TBD~~
> 
> ~~Applications which use this media type: Large- and small-scale archiving~~
> 
> ~~Additional information: None~~
> 
> ~~Person and email address to contact for further information:~~
> 
> ~~Gordon Mohr gojomo@archive.org, John Kunze jak@ucop.edu~~
> 
> ~~Intended usage: COMMON~~
> 
> ~~Author/Change controller: IESG~~
> 
> ~~application/warc-fields~~
> ~~-----------------------~~
> 
> ~~MIME media type name: application~~
> 
> ~~MIME subtype names: warc-fields~~
> 
> ~~Required parameters: None~~
> 
> ~~Optional parameters: None~~
> 
> ~~Encoding considerations:~~
> 
> ~~Content of this type is in 'binary' format.~~
> 
> ~~Security considerations:~~
> 
> ~~The WARC field syntax poses no direct risk to computers and networks.~~
> ~~Implementers need to be aware of source authority and trustworthiness of~~
> ~~information structured in WARC. Readers and writers subject themselves~~
> ~~to all the risks that accompany normal operation of data processing~~
> ~~services (e.g., message length errors, buffer overflow attacks).~~
> 
> ~~Interoperability considerations: None~~
> 
> ~~Published specification: TBD~~
> 
> ~~Applications which use this media type: Large- and small-scale archiving~~
> 
> ~~Additional information: None~~
> 
> ~~Person and email address to contact for further information:~~
> 
> ~~Gordon Mohr gojomo@archive.org, John Kunze jak@ucop.edu~~
> 
> ~~Intended usage: COMMON~~
> 
> ~~Author/Change controller: IESG~~
> 
> ~~IANA considerations~~
> ~~===================~~
> 
> ~~After IESG approval, IANA is expected to register the WARC type~~
> ~~"application/warc" using the application provided in this document.~~

No longer present in WARC/1.1, but of no real relevance to the standard itself

Annexes are included here in the 1.1 order.

> Annex A. *(informative)* Use cases for writing WARC records
> ===========================================================
> 
> ~~Below are listed different~~**Different** use cases ~~developing~~**are listed in Tables A.1 to A.5, which develop** some
> situations where WARC files and WARC records may be generated. These use
> cases correspond to the needs of the web archiving community.
> 
> ~~*N.B.: In~~**Note: in** a web harvesting context, the files constituting the websites
> are stored as WARC records in WARC files. Depending on the web
> harvesting process configuration, the different pieces of a website
> ~~may~~**might** not be contained in a single WARC file or in a set of WARC files
> but ~~may~~**might** be spread out and stored along pieces of other harvested
> websites. Thus, to render the archive of a website to users, access
> software ~~may~~**might** have to extract files contained in WARC records from
> different WARC files. External indexes ~~may~~**might** be used for a quicker
> ~~access.*~~**access.**
> 
> Other~~users may imagine other~~ use cases **might be conceived by other users** to ~~answer~~**satisfy** their own
> needs. Moreover, solutions adopted for each use case are not the only
> solutions that may be used. These are presented as examples.
> 
> The first column **in each table** describes the use case and its different
> steps. The second column **in each table* indicates what type of record is
> generated. Only the most complex named fields are specified in order to
> clarify the use of these fields: WARC-Type (mandatory field), WARC-Date
> (mandatory field), WARC-Concurrent-To (optional field), WARC-Refers-To
> (optional field). The other mandatory or useful named fields are not
> presented in ~~the document.~~**this International Standard.**
> 
> ~~Note: we suppose these WARC records are written in an already opened~~
> ~~WARC file, containing a ‘warcinfo’ record.~~
> **It has been assumed that these WARC records are written in an already**
> **opened WARC file, containing a 'warcinfo' record.**

Minor rephrasing (including weakened language as this is informative only)

> **## Table A.1**
> 
> **Use case one: An archiving crawler fetches**
> **http://netpreserve.org/reports/iipc2007conference.pdf from the World**
> **Wide Web and writes it in a WARC file**
> 
> <div class="table-responsive">
> <table class="table table-bordered">
> <tbody>
> <tr>
> ~~<th colspan="2">~~
> ~~Use case one: An archiving crawler fetches <a href="http://netpreserve.org/reports/iipc2007conference.pdf">http://netpreserve.org/reports/iipc2007conference.pdf</a> from the World Wide Web and writes it in a WARC file.<br/>~~
> ~~<br/>~~
> ~~Date: 2007-10-24 at 10:14:22 GMT~~
> ~~</th>~~
> ~~</tr>~~
> ~~<tr>~~
>
> [...]
>
> **## Table A.2**
> 
> **Use case two: The XML version of the French Gazette of 2007-11-01 has**
> **been transferred to the National Library of France (via FTP or email)**
> **and is written in a WARC file**
> 
> <div class="table-responsive">
> <table class="table table-bordered">
> <tbody>
> <tr>
> ~~<th colspan="2">~~
> ~~Use case two: the XML version of the French Gazette of 2007-11-01 has been transferred to the National Library of France (via FTP or email). This file is archived in a WARC file.<br/>~~
> ~~<br/>~~
> ~~Date: 2007-11-02 at 15:20:44 GMT~~
> ~~</th>~~
> ~~</tr>~~
> ~~<tr>~~
>
> [...]
> 
> **## Table A.3**
> 
> **Use case three: An archiving crawler fetches**
> **http://netpreserve.org/reports/iipc2007conference.pdf from the World**
> **Wide Web that has not changed since the latest harvest**
> 
> <div class="table-responsive">
> <table class="table table-bordered">
> <tbody>
> <tr>
> ~~<th colspan="2">~~
> ~~Use case three: An archiving crawler fetches <a href="http://netpreserve.org/reports/iipc2007conference.pdf">http://netpreserve.org/reports/iipc2007conference.pdf</a>from the World Wide Web that has not changed since the latest harvest<br/>~~
> ~~<br/>~~
> ~~Date: 2007-11-24 at 18:28:24 GMT~~
> ~~</th>~~
> ~~</tr>~~
> ~~<tr>~~
>
> [...]
> 
> **## Table A.4**
> 
> **Use case four: After the end of the harvest, Jhove is used to validate**
> **the format of http://netpreserve.org/reports/iipc2007conference.pdf and**
> **the validation results are stored in a WARC file and linked to the**
> **corresponding record**
> 
> <div class="table-responsive">
> <table class="table table-bordered">
> <tbody>
> <tr>
> ~~<th colspan="2">~~
> ~~Use case four: After the end of the harvest, Jhove is used to validate the format of <a href="http://netpreserve.org/reports/iipc2007conference.pdf">http://netpreserve.org/reports/iipc2007conference.pdf</a>. It produces validation results that have to be stored in a WARC file and linked to the corresponding record.<br/>~~
> ~~<br/>~~
> ~~Date: 2007-11-01 at 20:54:02 GMT~~
> ~~</th>~~
> ~~</tr>~~
> ~~<tr>~~
>
> [...]
> 
> **## Table A.5**
> 
> **Use case five: http://netpreserve.org/reports/iipc2007conference.pdf**
> **file format has become obsolete as it cannot be read anymore by the**
> **existing rendering tools**
> 
> <div class="table-responsive">
> <table class="table table-bordered">
> <tbody>
> <tr>
> ~~<th colspan="2">~~
> ~~Use case five: <a href="http://netpreserve.org/reports/iipc2007conference.pdf">http://netpreserve.org/reports/iipc2007conference.pdf)</a> file format has become obsolete as it cannot be read anymore by the existing rendering tools. It is necessary to migrate this file from the obsolete format to a new format.<br/>~~
> ~~<br/>~~
> ~~Date: 2020-01-23 at 16:14:32 GMT~~
> ~~</th>~~
> ~~</tr>~~
> ~~<tr>~~
>
> [...]

Reformatting

> **## Table A.6**
> 
> **Different use cases for record timestamps, featuring different levels of**
> **precision**
> 
> <div class="table-responsive">
> <table class="table table-bordered">
> <tbody>
> <tr>
> <th>Description of use case</th>
> <th>Record generated</th>
> </tr>
> <tr>
> <td>
> A web page has been captured by a WARC 1.1 compliant crawler
> </td>
> <td>
> <b>WARC record created:</b>
> <pre>
> WARC-Date: 2016-01-11T23:24:25.412030Z
> </pre>
> </td>
> </tr>
> <tr>
> <td>
> A web page has been captured by a legacy crawler
> </td>
> <td>
> <b>WARC record created:</b>
> <pre>
> WARC-Date: 2016-01-11T23:24:25Z
> </pre>
> </td>
> </tr>
> <tr>
> <td>
> A video has been donated by a website owner and converted to the WARC
> format
> </td>
> <td>
> <b>WARC record created:</b>
> <pre>
> WARC-Date: 2016-01
> </pre>
> </td>
> </tr>
> </tbody>
> </table>
> </div>

New example showcasing the new WARC-Date flexibility

> Annex B: *(informative)* Examples of WARC records
> =================================================
> 
> 
> Example of 'warcinfo' record 
> ----------------------------
> 
>     ~~WARC/1.0~~**WARC/1.1**
>     WARC-Type: warcinfo
>
> [...]
>
>     format: WARC file version ~~1.0~~**1.1**
>     conformsTo:
>      ~~http://www.archive.org/documents/WarcFileFormat-1.0.html~~**http://iipc.github.io/warc-specifications/specifications/warc-format/warc-1.1/**
> 

Version bump

> ~~Example of 'request' record ~~
> ~~---------------------------~~
> 
> ~~    WARC/1.0~~
> ~~    WARC-Type: request~~
> ~~    WARC-Target-URI: http://www.archive.org/images/logoc.jpg~~
> ~~    WARC-Warcinfo-ID: <urn:uuid:d7ae5c10-e6b3-4d27-967d-34780c58ba39>~~
> ~~    WARC-Date: 2006-09-19T17:20:24Z~~
> ~~    Content-Length: 236~~
> ~~    WARC-Record-ID: <urn:uuid:4885803b-eebd-4b27-a090-144450c11594>~~
> ~~    Content-Type: application/http;msgtype=request~~
> ~~    WARC-Concurrent-To: <urn:uuid:92283950-ef2f-4d72-b224-f54c6ec90bb0>~~
> ~~    ~~
> ~~    GET /images/logoc.jpg HTTP/1.0~~
> ~~    User-Agent: Mozilla/5.0 (compatible; heritrix/1.10.0)~~
> ~~    From: stack@example.org~~
> ~~    Connection: close~~
> ~~    Referer: http://www.archive.org/~~
> ~~    Host: www.archive.org~~
> ~~    Cookie: PHPSESSID=009d7bb11022f80605aa87e18224d824~~

Moved further down

> Example of 'response' record
> ----------------------------
> 
>     ~~WARC/1.0~~**WARC/1.1**
>     WARC-Type: response
>     WARC-Target-URI: http://www.archive.org/images/logoc.jpg
>     WARC-Warcinfo-ID: <urn:uuid:d7ae5c10-e6b3-4d27-967d-34780c58ba39>
>     WARC-Date: ~~2006-09-19T17:20:24Z~~**2016-09-19T17:20:24Z**
>     WARC-Block-Digest: sha1:UZY6ND6CCHXETFVJD2MSS7ZENMWF7KQ2
>     WARC-Payload-Digest: sha1:CCHXETFVJD2MUZY6ND6SS7ZENMWF7KQ2
>     WARC-IP-Address: 207.241.233.58
>     WARC-Record-ID: <urn:uuid:92283950-ef2f-4d72-b224-f54c6ec90bb0>
>     Content-Type: application/http;msgtype=response
>     WARC-Identified-Payload-Type: image/jpeg
>     Content-Length: 1902
> 
>     HTTP/1.1 200 OK
>     Date: Tue, 19 Sep ~~2006~~**2016** 17:18:40 GMT
>     Server: Apache/2.0.54 (Ubuntu)
>     Last-Modified: Mon, 16 Jun ~~2003~~**2013** 22:28:51 GMT
>     ETag: "3e45-67e-2ed02ec0"
>     Accept-Ranges: bytes
>     Content-Length: 1662
>     Connection: close
>     Content-Type: image/jpeg
> 
>     [image/jpeg binary data here]
> 
> 
> Example of 'resource' record
> ----------------------------
> 
>     ~~WARC/1.0~~**WARC/1.1**
>     WARC-Type: resource
>     WARC-Target-URI: file://var/www/htdoc/images/logoc.jpg
>     WARC-Date: ~~2006-09-30T16:40:32Z~~**2016-09-30T16:40:32Z**
>     WARC-Record-ID: <urn:uuid:23200706-de3e-3c61-a131-g65d7fd80cc1>
>     Content-Type: image/jpeg
>     WARC-Payload-Digest: sha1:DBXHDRBXLF4OMUZ5DN4JJ2KFUAOB6VK8
>     [...]

Version and date bumps

> **Example of 'request' record**
> **---------------------------**
> 
> **    WARC/1.1**
> **    WARC-Type: request**
> **    WARC-Target-URI: http://www.archive.org/images/logoc.jpg**
> **    WARC-Warcinfo-ID: <urn:uuid:d7ae5c10-e6b3-4d27-967d-34780c58ba39>**
> **    WARC-Date: 2016-09-19T17:20:24Z**
> **    Content-Length: 236**
> **    WARC-Record-ID: <urn:uuid:4885803b-eebd-4b27-a090-144450c11594>**
> **    Content-Type: application/http;msgtype=request**
> **    WARC-Concurrent-To: <urn:uuid:92283950-ef2f-4d72-b224-f54c6ec90bb0>**
> 
> **    GET /images/logoc.jpg HTTP/1.0**
> **    User-Agent: Mozilla/5.0 (compatible; heritrix/1.10.0)**
> **    From: stack@example.org**
> **    Connection: close**
> **    Referer: http://www.archive.org/**
> **    Host: www.archive.org**
> **    Cookie: PHPSESSID=009d7bb11022f80605aa87e18224d824**

Moved from further up; version and date bumped

> Example of 'metadata' record
> ----------------------------
> 
>     ~~WARC/1.0~~**WARC/1.1**
>     WARC-Type: metadata
>     WARC-Target-URI: http://www.archive.org/images/logoc.jpg
>     WARC-Date: ~~2006-09-19T17:20:24Z~~**2016-09-19T17:20:24Z**
>     WARC-Record-ID: <urn:uuid:16da6da0-bcdc-49c3-927e-57494593b943>
>     WARC-Concurrent-To: <urn:uuid:92283950-ef2f-4d72-b224-f54c6ec90bb0>
>     Content-Type: application/warc-fields
>     WARC-Block-Digest: sha1:VXT4AF5BBZVHDYKNC2CSM8TEAWDB6CH8
> ~~    ~~
>     Content-Length: 59
> 
>     via: http://www.archive.org/
>     hopsFromSeed: E
>     fetchTimeMs: 565

Version/date bump and fixed the blank line being in the wrong place

> Example of 'revisit' record
> ---------------------------
> 
>     ~~WARC/1.0~~**WARC/1.1**
>     WARC-Type: revisit
>     WARC-Target-URI: http://www.archive.org/images/logoc.jpg
>     WARC-Date: ~~2007-03-06T00:43:35Z~~**2017-06-23T12:43:35Z**
>     WARC-Profile: ~~http://netpreserve.org/warc/1.0/server-not-modified~~**http://netpreserve.org/warc/1.1/server-not-modified**
>     WARC-Record-ID: <urn:uuid:16da6da0-bcdc-49c3-927e-57494593bbbb>
>     WARC-Refers-To: <urn:uuid:92283950-ef2f-4d72-b224-f54c6ec90bb0>
>     **WARC-Refers-To-Target-URI: http://www.archive.org/images/logoc.jpg**
>     **WARC-Refers-To-Date: 2016-09-19T17:20:24Z**
>     Content-Type: message/http
>     Content-Length: 226
> 
>     HTTP/1.x 304 Not Modified
>     Date: Tue, 06 Mar ~~2007~~**2017** 00:43:35 GMT
>     Server: Apache/2.0.54 (Ubuntu) PHP/5.0.5-2ubuntu1.4 Connection: Keep-Alive
>     Keep-Alive: timeout=15, max=100
>     ~~Etag:~~**ETag:** "3e45-67e-2ed02ec0"

Version and date bump, addition of the new header fields, correction of the ETag HTTP header capitalisation

> Example of 'conversion' record
> ------------------------------
> 
>     ~~WARC/1.0~~**WARC/1.1**
>     WARC-Type: conversion
>     WARC-Target-URI: http://www.archive.org/images/logoc.jpg
>     WARC-Date: ~~2016-09-19T19:00:40Z~~**2026-09-19T19:00:40Z**
>     WARC-Record-ID: ~~<urn:uuid:16da6da0-bcdc-49c3-927e-57494593dddd>~~**<urn:uuid:27ef1r9j-defr-25f9-328r-16859347dddd>**
>     WARC-Refers-To: <urn:uuid:92283950-ef2f-4d72-b224-f54c6ec90bb0>
>     WARC-Block-Digest: sha1:XQMRY75YY42ZWC6JAT6KNXKD37F7MOEK
>     Content-Type: image/neoimg
>     Content-Length: 934
> 
>     [image/neoimg binary data here]

Version and date bump, new record ID

> Example of segmentation ('continuation' record) 
> -----------------------------------------------
> 
> ~~Let us take~~**Take** the example of the 'response' record given ~~earlier,~~**in B.2** and segment it to
> fit ~~the within~~**in** a WARC file no larger than 2K. The first WARC file would contain
> the first segment, a record of type 'response' with a ~~WARC-Segment-Number~~**WARC-**
> **Segment-Number** of 1. Note that the block-digest has changed ~~-- as~~**(as** the
> block is no longer the same as the ~~standalone~~**stand-alone** 'response' ~~record --~~**record)** but
> the payload-digest has not changed, as the reassembled record will have
> the same internal payload.

Minor rephrasing etc.

>     ~~WARC/1.0~~**WARC/1.1**
>     WARC-Type: response
>     WARC-Target-URI: http://www.archive.org/images/logoc.jpg
>     WARC-Date: ~~2006-09-19T17:20:24Z~~**2016-09-19T17:20:24Z**
>     WARC-Block-Digest: sha1:2ASS7ZUZY6ND6CCHXETFVJDENAWF7KQ2
>     WARC-Payload-Digest: sha1:CCHXETFVJD2MUZY6ND6SS7ZENMWF7KQ2
>     WARC-IP-Address: 207.241.233.58
>     WARC-Record-ID: <urn:uuid:39509228-ae2f-11b2-763a-aa4c6ec90bb0>
>     WARC-Segment-Number: 1
>     Content-Type: application/http;msgtype=response
>     Content-Length: 1600
> 
>     HTTP/1.1 200 OK
>     Date: Tue, 19 Sep ~~2006~~**2016** 17:18:40 GMT
>     Server: Apache/2.0.54 (Ubuntu)
>     Last-Modified: Mon, 16 Jun ~~2003~~**2013** 22:28:51 GMT
>     ETag: "3e45-67e-2ed02ec0"
>     Accept-Ranges: bytes
>     Content-Length: 1662
>     Connection: close
>     Content-Type: image/jpeg
> 
>     [first 1360 bytes of image/jpeg binary data here]

Version and date bumps

> The next file would contain the 'continuation' record, with fields to
> identify the start of the segmentation series (WARC-Segment-Origin-ID),
> to indicate this record's place in the series ~~(WARC-Segment-Number),~~**(WARC- Segment-Number),**
> and to report that this **is** the last record and what the total size is
> ~~(WARC-Segment-Total-Length).~~**(WARC-Segment- Total-Length).**

Minor phrasing

>     ~~WARC/1.0~~**WARC/1.1**
>     WARC-Type: continuation
>     WARC-Target-URI: http://www.archive.org/images/logoc.jpg
>     WARC-Date: ~~2006-09-19T17:20:24Z~~**2016-09-19T17:20:24Z**
>     WARC-Block-Digest: sha1:T7HXETFVA92MSS7ZENMFZY6ND6WF7KB7
>     **WARC-Payload-Digest: sha1:CCHXETFVJD2MUZY6ND6SS7ZENMWF7KQ2**
>     WARC-Record-ID: <urn:uuid:70653950-a77f-b212-e434-7a7c6ec909ef>
>     WARC-Segment-Origin-ID: <urn:uuid:39509228-ae2f-11b2-763a-aa4c6ec90bb0>
>     WARC-Segment-Number: 2
>     WARC-Segment-Total-Length: 1902
>     WARC-Identified-Payload-Type: image/jpeg
>     Content-Length: 302
> ~~    ~~
> ~~    [last 302 bytes of image/jpeg binary data here]~~
> 
>     **[last 302 bytes of image/jpeg binary data here]**
> 

Version and date bump, addition of the (optional) payload digest

> Annex C: *(informative)* WARC file size and name recommendations
> ================================================================
> 
> ~~1GB (10\^9 bytes)~~**It** is recommended **to use 1 GB (10<sup>9</sup> bytes)** as a practical
> target size for WARC files, when record sizes ~~allow.~~**permit.** Oversized records
> may be truncated, segmented, or placed in oversized WARC files, at ~~a project's discretion.~~**the**
> **discretion of the software implementer.**
> 
> It is helpful to use practices within an institution that make it
> unlikely or impossible to duplicate aggregate WARC file names. The
> convention used inside the Internet Archive with ARC **or WARC** files is to
> name files according to the following ~~pattern:~~**pattern (here for WARC files):**
> 
> Prefix-Timestamp-Serial-Crawlhost.warc.gz
> 
> Prefix is an abbreviation usually reflective of the project or crawl
> that created this file. ~~Timestamp~~**Time-stamp** is a 14-digit GMT ~~timestamp~~**time-stamp**
> indicating the time the file was initially begun. Serial is an
> increasing ~~serial-number~~**serial number** within the process creating the files, often
> (but not necessarily) unique with regard to the ~~Prefix.~~**prefix.** Crawlhost is the
> domain name or IP address of the machine creating the file.

Minor formatting/phrasing

> ~~IIPC member institutions have expressed an interest in adopting a common~~
> ~~naming strategy, with per-institution unique identifiers to assist in~~
> ~~marking WARC files with their institution of origin. It is proposed that~~
> ~~all such WARC file names adhering to this future convention begin~~
> ~~"iipc".~~
> 
> ~~This specification does not require any particular WARC file naming~~
> ~~practice, but conventions similar to the above are recommended within~~
> ~~WARC-creating institutions. The file name prefix "iipc" should not be~~
> ~~used unless participating in a future IIPC naming registry.~~

Dropped proposal/recommendation

> Annex D: *(informative)* Compression recommendations
> ====================================================
> 
> [...]
> 
> For this purpose, the GZIP format with customary "deflate" compression
> is recommended, as defined in ~~\[RFC1950\], \[RFC1951\],~~**\[RFC 1950\], \[RFC 1951\],** and ~~\[RFC1952\].~~**\[RFC**
> **1952\].** Freely available source code implementing this format is
> available, and the technique is free of patent encumbrances. The GZIP
> format is also widely used and supported across many free and commercial
> software packages and operating systems.
> 
> This ~~section documents~~**annex gives** recommended, but optional, practices for compressing
> WARC files with GZIP.
> 
> Record-at-time compression
> --------------------------
> 
> ~~Per section~~**As specified in** 2.2 of the GZIP ~~specification,~~**specification (see \[RFC 1952\]),** a
> valid GZIP file consists of any number of ~~gzip~~**GZIP** "members", each
> independently compressed.
> 
> [...]
> 
> GZIP WARC file name suffix
> --------------------------
> 
> A ~~gzip~~**GZIP** compressed WARC file should have the customary ".gz" appended to
> it, making the complete suffix, ".warc.gz".

Minor formatting/phrasing fixes

> **Bibliography**
> **============**
> 
> **\[1\] ARC BURNER M., KAHLE B. ARC File Format. 15 September 1996.**
> **Available at: <http://www.archive.org/web/researcher/ArcFileFormat.php>**
> 
> **\[2\] DCMI DCMI Metadata Terms. Available at:**
> **<http://dublincore.org/documents/dcmi-terms/>**
> 
> **\[3\] RFC1950 DEUTSCH P., GAILLY J.-L. ZLIB Compressed Data Format**
> **Specification version 3.3. May 1996 (TXT, PS, PDF). Available at:**
> **<https://www.ietf.org/rfc/rfc1950.txt>**
> 
> **\[4\] RFC1951 DEUTSCH P. Deflate. Compressed Data Format Specification**
> **version 1.3. May 1996 (TXT, PS, PDF). Available at:**
> **<https://www.ietf.org/rfc/rfc1951.txt>**
> 
> **\[5\] RFC1952 DEUTSCH P. GZIP file format specification version 4.3. May**
> **1996 (TXT, PS, PDF). <https://www.ietf.org/rfc/rfc1952.txt>**
> 
> **\[6\] RFC2047 MOORE K. MIME (Multipurpose Internet Mail Extensions) Part**
> **Three: Message Header Extensions for Non-ASCII Text. November 1996 (TXT,**
> **HTML, XML). Available at: <https://www.ietf.org/rfc/rfc2047.txt>**
> 
> **\[7\] RFC2048 FREED N., KLENSIN J., POSTEL J. Multipurpose Internet Mail**
> **Extensions (MIME) Part Four: Registration Procedures. BCP 13, RFC 2048,**
> **November 1996 (TXT, HTML, XML). Available at:**
> **<https://www.ietf.org/rfc/rfc2048.txt>**
> 
> **\[8\] RFC4501 JOSEFSSON S. Domain Name System Uniform Resource**
> **Identifiers. May 2006. Available at: <https://tools.ietf.org/html/rfc4501>**
> 
> **\[9\] RFC4648 JOSEFSSON S. The Base16, Base32, and Base64 Data**
> **Encodings. October 2006. Available at:**
> **<https://tools.ietf.org/html/rfc4648>**

There was no bibliography in 1.0; some of these references were in the "normative references" section before, others were not relevant.
